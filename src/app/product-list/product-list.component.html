<div>
  <h1>Product Monitor</h1>

  <!-- File Upload -->
  <div>
    <label for="fileInput">Upload JSON File:</label>
    <input type="file" id="fileInput" (change)="onFileUpload($event)" accept=".json" />
  </div>

  <!-- Error Message -->
  <div *ngIf="errorMessage" style="color: red;">
    {{ errorMessage }}
  </div>

  <!-- Product List -->
  <div *ngIf="products.length > 0">
    <h2>Products:</h2>
    <ul>
      <li *ngFor="let product of products">
        <strong>{{ product.title }}</strong> (ID: {{ product.id }}, Store: {{ product.store }})
        <img [src]="product.image" alt="{{ product.title }}" style="max-width: 50px;" />
        <p>Base ID: {{ product.baseId }}</p>
        <p>Current Price: R{{ product.price }}</p>
        <p>Sale Percentage: {{ product.salePercentage }}%</p>
        <ul>
          <li *ngFor="let entry of product.priceHistory">
            {{ entry.date }} - R{{ entry.price }} ({{ entry.salePercentage }}% off)
          </li>
        </ul>
      </li>
    </ul>
    <button (click)="updateProductDetails()">Update Products</button>
    <button (click)="downloadUpdatedFile()">Download Updated File</button>
  </div>
</div>
